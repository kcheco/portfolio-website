language: ruby
install:
- bundle update --bundler
cache: bundler
rvm: 2.4.1
services: postgresql
addons:
  chrome: stable
before_script:
- bundle exec rake db:create
script:
- bin/rake db:migrate RAILS_ENV=test
- bin/rake
deploy:
  - provider: codedeploy
    access_key_id:
      secure: KOJCyo+8k5Cbqb+1ElY5j4ZeW8d+pti2EF26ldiUJ8i+Cb7pgyUutt2jQUEyOUd+O1Cz/iDQRvD0bpT6yr1J+S9WEBe9eP8EDPaiXxFNqptXDbX0hHIV2iaeb9Z1tvwv06MGl+lsfr1R0Jsr/W9YyukHtnR3xeZtgBpSsm8QPMK06aLPapKdSzZahZPpv2EaFgb4g14YvVfeFyJy0cVksAl4Tr2Ek3ckCTX10tnt3elz/Ox9qhIcfiQDvOTcfJY+MbxQjOx4Wn/nEphJfAvBHhSleW7YZzEwETCBYsgrESl5l89Xavvo5JboEEr62SlTfOdyidmes+ZEUeubI/m4I8NGZ/NfbEsPh+Wp6nAYH2yT5L/HLC+wPc+Q4OsGZFaKYMC4SGXCRtdO7BC9VPLXJCRgFuNGw5Urnxw7BZYjR5xwW1DVC48M3bAtWQZHWv3PhjRcLNDV4EQj+04iaRojhITdOQioKbcrMzsM2tNFfseXooqQwMMnnun43cTXGTFE0lqzVZCB+BtjOfckdQsY6dtrERUUrwyprfMrYN0x25bxfIrSV2nOXI+x96ggN+gyXAgKDugra7FsXHFFgaAnz1AtaAkL4Z+fo2SEmqwenLgZ2E9qpAU/RcR1zc9AfcETHYhnKRYAKcRWGBiINyUVSyo+p7ZSPWzvXU4KgfDY+w=
    secret_access_key:
      secure: FUDvocd0Je/KCR/Z4FtHjFTT0CvQnILM5AZbFRJagZdCqjj9jmquBnXfKanIywL/JU835URiWG0EkVZVhWUxySE0Rb5h55m8zeYdTQCNtZ6w4axeRgHnlvyBijXBknhyU0fdrXAGIlvl5GijapClsChk8aFlrXCLzD5pT7UNE3ASi6XSuBQ+wtChUVO20SZdzZQYq07AizZYUCDCxm32xPsV5BYEEmQMhw3+lD0AY99Gr7RnV3TzlSRx90lqlm48xEhj6nmyhZy0F53iJDLaR7FHJYfWZF6GFx5OgvemTUFNEZop6xoL9LdO2ffYQmj4fuY+ezEXORpwmdelSWXnuI5OFOLXSU88g71KmCY1kXjKXd3Y2LlWBEJQafjXTn8OvuHQG5YIePKUtEPAdLduPLI8h/vsNPX0bnIZr3KkvXDv6qCmHetCVEfKSusDkFP9xv5EeqEL0IEGd7heHaKDwzQ2ZSnTzJ/qfZbMdLBF9oP3yLvkjgfwdvvCsggvkTHrPJH7Piy3ubUXurfBZu1OkY8zVAq8QaM984NL+RhCNCrjaOB0lQYywWnfK2TVEindQyPzla3hldc6Ypt2xjhGT5/PeuuBKD7UWhJqntXHkYsy3l72Or7QqMoQolD+bM1NaHURykmHvWNmjIY/vYXBmJG8ilH/3hY7h9vV/R2E1iQ=
    bucket: codedeploy-checo-portfolio-us-east-1
    bundle_type: zip
    application: checo-portfolio
    key: development/latest/source.zip
    deployment_group: development
    region: us-east-1
    on:
      branch: develop
  - provider: codedeploy
    access_key_id:
      secure: surKRHFfG7foeEOXtuX5+yVYl9/rqUwiZBklqGpAU/GM76XF5NzohZrJHUQdTkwkX8cUzMo/k+l7ha9D1iNYpFGtjThNuYyJHiIThteYbmY0ki5ItenkaS/aYj+rlQ7za3SDgUJ6OZMJSgvFUA2+kN6P1K94iifQCK7GG2LjgvSViGN3LdLKfzNCpCTebNHMCQLXKY8ensv6kPZJiLU8itjQybn6GjOEB6qaA9ovWUzUc84Os7PVfaX2ccKymaKkCb7BK1shvsFU8KbPqLmVeRfPC32qpd1dKJUZjxUZ2wyOsSSmfcNWgJJhid7UC/A85cg2eL6LwrXlMSbSqX2PO1PAUnGuc1W94JFzJVC4qo9Yta6PQPAcYuNS1Ws4YYb9q76jO7mMi2Jk+WkpEmUAMDETbQ9TqmdjXmZ48W3mfqmX+KnFeNDSNsm1ZVJv5DKLx8ivICv3HF3YQNyrado3nYimAoPo2k/CpgoPbLvX2BDMilG4sJj2CCdbMRak1PmbDIXCo/RgsXNWFm6xU8Qk1SM638N8xyr1SX9cPLkzeEvSHB34UY7fSVJUI8VRLBwSapW+R/tskIF0puscmTQj0GVqCVokGt6wzSlooVfz0dxPnRZ8VaLZN4rysmRGPxEig7dTTEBBE15rgMHh02aVOIDgwwWR8P6T5X7dtOjw1v0=
    secret_access_key:
      secure: wESMNrpUR5zhZ9Zb8ZrvKGqBs/FdVkb6HW5WgDuIhhscyNQ+8GBA0ZvLmYEZpiir7cIO/TVl6m0Dn6zTNHdbfxAfasQx8lTKde6+3slXOThHZGPvZAS6ro6ygwM7Ue9UVgaDcibtmK8AAkNPZSSYeD+Suw8NVXx4t0Mv6LaQP5zTIx2K5RNooJo7mALesIHMC0JK2kBJoDq2FdP0+toBlaLYOuAlPCixcL0bD6YdG3AKGn0S91UC06gp/HYRAkMyQB4EERkOtqOPIVR+3HzGwmfIeSkhG696UAehU0+ip84Y/K8O2Awj5iTrCI0fwDxVEqPAT8kBD0k6To+73F6+/USQovgJ81Wev7d+Z/51KWFRFeRgskUVvqAaGhM64eLAdV3yEl7k6qGhfBX8jl8c7LJ6GJBXGzy92gfM01r0cRCx9Bbh6wKw9KmfP2GXsXW2jX446dsI7qgGiEU6NFKkbFxiHPBNb8O1TewaPvv9pZgG6FpXZKw5KCX52d1LzUQqIL1wtEmCNNH7vtpK501aB02OX2qJ/EaYmUV+w9sYwklqbsxCVMywgP7Nd2yUHOE/GBAhDGcs/I2gSbZU8/mXDqUdu4zksvPvX31K7wRhaKTK+G4cWfNn/E3VByYKdGxOOOJBH/tIPu5g4GDft1HbQsmMU0jNOl7UhFHH38JP50Y=
    bucket: codedeploy-checo-portfolio-us-east-1
    bundle_type: zip
    application: checo-portfolio
    key: production/latest/source.zip
    deployment_group: production
    region: us-east-1
    on:
      branch: master
